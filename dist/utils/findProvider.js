'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.findProvider=void 0;var _providers=require('./providers.json'),_providers2=_interopRequireDefault(_providers);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var getHostname=function(a){var b=a.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return b&&2<b.length&&'string'==typeof b[2]&&0<b[2].length?b[2]:null},providers=_providers2.default.map(function(a){var b=a.provider_name,c=a.provider_url,d=a.endpoints,e=d[0],f=e.schemes,g=f===void 0?[]:f,h=e.url,i=getHostname(h),j=i?i.replace('www.',''):'';return{provider_name:b,provider_url:c,schemes:g,domain:j,url:h}}).filter(function(a){return''!==a.domain}),findProvider=exports.findProvider=function(a){var b=providers.filter(function(b){var c=b.schemes,d=b.domain;return c.length?c.some(function(b){var c=new RegExp(b.replace(/\*/g,'(.*)'),'i');return a.match(c)}):a.includes(d)});return 0<b.length?b[0]:null};